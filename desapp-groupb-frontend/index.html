<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Subi que te llevo</title>

    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css" />
    <link href="styles/style.css" rel="stylesheet">
</head>

<body ng-app="subiQueTeLlevoApp">

<button id="menu-toggle" class="btn btn-dark glyphicon glyphicon-menu-hamburger"></button>
    <nav id="sidebar-wrapper" data-ng-controller="HomeController">
        <ul class="sidebar-nav">
            <button id="menu-close" class="btn btn-dark glyphicon glyphicon-menu-hamburger pull-right"></button>
            <li class="sidebar-brand">
            <a href="#top" onclick = $("#menu-close").click(); >Subi que te llevo!</a>
            </li>
            <li>
                <span>{{user.email}}</span> // FIXME
            </li>
            <li>
            <a href="#top" onclick = $("#menu-close").click(); >{{'HOME' | translate}}</a>
            </li>
            <li>
            <a href="#myRides" onclick = $("#menu-close").click(); >{{'MY_RIDES' | translate}}</a>
            </li>
            <li>
            <a href="#products" onclick = $("#menu-close").click(); >{{'PRODUCTS' | translate}}</a>
            </li>
          <li>
            <a ng-click="setLanguage('es')">Espa√±ol</a>
            <a ng-click="setLanguage('en')">English</a>
          </li>
        </ul>
    </nav>

    <header id="top" class="header" data-ng-controller="HomeController">
        <div class="text-vertical-center">
            <span class="well well-lg">
                <h1>Subi que te llevo</h1>
                <br>
                <button class="btn btn-dark btn-lg" ng-show="showButtonsAccounts"
                        ng-click="showRegisterForm()">{{'REGISTER' | translate}}</button>
                <button class="btn btn-dark btn-lg" ng-show="showButtonsAccounts"
                        ng-click="showLoginForm()">{{'LOGIN' | translate}}</button>
                <form class="registration" ng-hide="register">
                    <input type="text" ng-model="user.email" placeholder="{{'EMAIL' | translate}}" required><br>
                    <input type="text" ng-model="user.password" placeholder="{{'PASSWORD' | translate}}" required><br>
                    <input type="checkbox" ng-click="selectDriver()"> {{'CHECKBOX_DRIVER' | translate}}<br>
                    <select ng-show="isDriverSelected">
                        <option disabled selected>{{'TYPE_VEHICLE' | translate}}</option>
                        <option>Car</option>
                        <option>Van</option>
                    </select><br>
                    <input type="number" ng-show="isDriverSelected"  placeholder="{{'VEHICLE_CAPACITY' | translate}}"><br>
                    <input type="submit" ng-click="createUser(user)"  value="{{'REGISTER' | translate}}">
                    <input type="submit" ng-click="resetForm()"  value="{{'CANCEL' | translate}}">
                </form>
                <form class="registration" ng-hide="login">
                    <input type="text" placeholder="Username or email" required><br>
                    <input type="text" placeholder="{{'PASSWORD' | translate}}" required><br>
                    <input type="submit" ng-click="loginUser(user)"  value="{{'LOGIN' | translate}}">
                    <input type="submit" ng-click="resetForm()"  value="{{'CANCEL' | translate}}">
                </form>
            </span>
        </div>
    </header>

    <section id="myRides" class="rides container" data-ng-controller="RecorridosController">
            <span class="col-lg-12">
                <h2>{{'ROUTES' | translate}}</h2>
                <hr class="large">
                <div class="from-group">
                    <h3>{{'AVAILABLE_ROUTES' | translate}}</h3>
                    <table class="table table-hover">
                        <thead>
                            <th>{{'DRIVER' | translate}}</th>
                            <th>{{'DAY' | translate}}</th>
                            <th>{{'FROM' | translate}}</th>
                            <th>{{'TO' | translate}}</th>
                            <th>{{'JOIN' | translate}}</th>
                        </thead>
                        <tbody>
                        <tr data-ng-repeat="ride in rides">
                            <td>{{ride.driver}}</td>
                            <td>{{ride.date}}</td>
                            <td>{{ride.route.from}}</td>
                            <td>{{ride.route.to}}</td>
                            <td>
                                <button class="btn btn-dark" ng-click="joinRide(ride.id)">{{'JOIN' | translate}}</button>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="from-group">
                    <h3>{{'MY_ROUTES' | translate}}</h3>
                    <div role="tabpanel">
                        <ul class="nav nav-tabs" role="tablist">
                            <li role="presentation" class="active">
                                <a href="#conductor" role="tab" data-toggle="tab">{{'DRIVER' | translate}}</a>
                            </li>
                            <li role="presentation">
                                <a href="#pasajero" role="tab" data-toggle="tab">{{'PASSENGER' | translate}}</a>
                            </li>
                        </ul>
                        <div class="tab-content">
                            <div role="tabpanel" class="tab-pane fade in active" id="pasajero">
                                <table class="table">
                                    <thead>
                                        <th>{{'DAY' | translate}}</th>
                                        <th>{{'FROM' | translate}}</th>
                                        <th>{{'TO' | translate}}</th>
                                    </thead>
                                    <tbody data-ng-repeat="ride in myRides">
                                        <td>{{ride.date}}</td>
                                        <td>{{ride.route.from}}</td>
                                        <td>{{ride.route.to}}</td>
                                    </tbody>
                                </table>
                            </div>
                            <div role="tabpanel" class="tab-pane fade" id="conductor">
                                <table class="prices table" id="price_options">
                                    <thead>
                                        <th>{{'DAY' | translate}}</th>
                                        <th>{{'FROM' | translate}}</th>
                                        <th>{{'TO' | translate}}</th>
                                    </thead>
                                    <tbody data-ng-repeat="ride in myRides">
                                        <td>{{ride.date}}</td>
                                        <td>{{ride.route.from}}</td>
                                        <td>{{ride.route.to}}</td>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </span>
    </section>

    <section id="products" data-ng-controller="ProductController">
        <h3>{{'PRODUCTS' | translate}}</h3>
        <div class="form-group col-md-4">
            <div class="input-group">
                <input type="text" class="form-control" name="productSearch" ng-model="productFind" placeholder="Producto a buscar">
                <span class="input-group-btn">
                    <button type="submit" class="btn btn-default" ng-click="findProduct(productFind)">
                        <span class="glyphicon glyphicon-search"></span>
                    </button>
                </span>
            </div>
            <button class="btn btn-danger productCrud" ng-click="getAllProducts()"/>{{'ALL_PRODUCTS' | translate}}</button><br>
            <button class="btn btn-info productCrud" ng-hide="addProduct" ng-click="showProductForm()">{{'ADD_PRODUCT' | translate}}</button>
        </div>

        <div class="form-group col-md-4">
            <form ng-show="addProduct" class="addProduct">
              <h4>{{'ADD_PRODUCT' | translate}}</h4>
                <input type="text" class="controls productCrud" name="productName" ng-model="productNew.name" placeholder="Nombre" ><br>
                <input type="number" class="controls productCrud" name="productStock" placeholder="Cantidad" ng-model="productNew.stock"><br>
                <input type="number" class="controls productCrud" name="productCost" placeholder="Precio" ng-model="productNew.cost"><br>
                <input type="button" class="btn btn-danger productCrud" ng-click="resetProductForm()" value="Reset"/>
                <input type="submit" class="btn btn-success productCrud" ng-click="saveProductForm(productNew)" value="Save"/><br>
            </form>
        </div>
        <div class="form-group col-md-6" ng-show="showAllProducts">
            <table class="prices table">
              <thead>
                <tr>
                    <th>{{'NAME' | translate}}</th>
                    <th>{{'STOCK' | translate}}</th>
                    <th>{{'PRICE' | translate}}</th>
                </tr>
              </thead>
              <tbody>
                <tr data-ng-repeat="product in allProducts">
                    <td>{{product.name}}</td>
                    <td>{{product.stock}}</td>
                    <td>$ {{product.cost}}</td>
                </tr>
              </tbody>
            </table>
        </div>
    </section>

<!-- Map
<section id="contact" class="map">
  <input id="origin-input" class="controls" type="text"
         placeholder="Desde">

  <input id="destination-input" class="controls" type="text"
         placeholder="Hasta">

  <div id="map"></div>

  <script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDNTAVH_1zEZBZUNBA6dGcVchluktaaaBU&libraries=places&callback=initMap"
    async defer></script>
</section>
-->
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>

    <script>
        // Closes the sidebar menu
        $("#menu-close").click(function(e) {
            e.preventDefault();
            $("#sidebar-wrapper").toggleClass("active");
        });

        // Opens the sidebar menu
        $("#menu-toggle").click(function(e) {
            e.preventDefault();
            $("#sidebar-wrapper").toggleClass("active");
        });

        // Scrolls to the selected menu item on the page
        $(function() {
            $('a href').click(function() {
                if (location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') ||
                    location.hostname == this.hostname) {

                    var target = $(this.hash);
                    target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
                    if (target.length) {
                        $('html,body').animate({
                        scrollTop: target.offset().top
                        }, 1000);
                    return false;
                    }
                }
            });
        });
    </script>

    <script src="bower_components/jquery/dist/jquery.js"></script>
    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.js"></script>
    <script src="bower_components/angular-animate/angular-animate.js"></script>
    <script src="bower_components/angular-cookies/angular-cookies.js"></script>
    <script src="bower_components/angular-resource/angular-resource.js"></script>
    <script src="bower_components/angular-route/angular-route.js"></script>
    <script src="bower_components/angular-sanitize/angular-sanitize.js"></script>
    <script src="bower_components/angular-touch/angular-touch.js"></script>
    <script src="bower_components/angular-translate/angular-translate.js"></script>

    <script src="scripts/app.js"></script>

</body>
</html>
